<app-header></app-header>
<mat-drawer-container>

<!--  Tạo mới một DropList kéo thả các đối tượng theo chiều ngang (horizontal)
      đưa listModels gán vào data của DropList này-->
  <div cdkDropList cdkDropListOrientation="horizontal"
       (cdkDropListDropped)="dropList($event)" [cdkDropListData]="listModels">

<!--    Tạo ra một DropListGroup để nhóm các cái DropList bên trong có thể kéo thả-->
<!--    các card qua lại giữa các list-->
    <div cdkDropListGroup>

<!--      Duyệt qua các list trong mảng listModels-->
      <div class="example-container" *ngFor="let list of listModels; index as i" cdkDrag>
        <h2>{{list.listName}}: index {{i}}</h2>

<!--        Lấy ra danh sách các card từ cards của từng list đưa vào data của DropList con-->
        <div
          cdkDropList
          [cdkDropListData]="list.cards"
          class="example-list"
          (cdkDropListDropped)="dropCard($event)">

<!--          Duyệt qua từng card trong cái cards của list-->
          <div class="example-box" *ngFor="let item of list.cards" cdkDrag
               (click)="viewCard(item.cardId)">{{item.cardName}}</div>
          <div *ngIf="list.cards.length == 0">
            <div class="example-box">Add new card</div>
          </div>
        </div>
        <div class="add-card-box" *ngIf="list.cards.length > 0" (click)="openCreateCard()"> + Add new card</div>
      </div>
      <div class="add-list-box" (click)="openCreateList()"> + Add new list</div>
    </div>
  </div>
</mat-drawer-container>

